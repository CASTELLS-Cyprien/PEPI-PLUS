{% extends 'base.html.twig' %}

{% block title %}
	Plant :
	{{ plant.commonName }}
	| Pépi+
{% endblock %}

{% block body %}
	<div
		class="p-6">
		{# Navigation / Header de page #}
		<div class="mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4">
			<div>
				<nav class="flex mb-2 text-sm text-gray-500" aria-label="Breadcrumb">
					<a href="{{ path('app_plant_index') }}" class="hover:text-forest transition-colors">Catalogue</a>
					<span class="mx-2">/</span>
					<span class="font-semibold text-forest">Fiche détaillée</span>
				</nav>
				<h1 class="text-3xl font-bold text-forest flex items-center">
					<span class="bg-forest text-white p-2 rounded-lg mr-4 shadow-md">
						<svg class="w-7 h-7" fill="none" stroke="currentColor" viewbox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"/>
						</svg>
					</span>
					{{ plant.commonName }}
				</h1>
			</div>

			<div class="flex gap-3">
				<a href="{{ path('app_plant_index') }}" class="inline-flex items-center px-4 py-2 bg-white border border-gray-200 text-gray-600 hover:bg-gray-50 rounded-lg transition shadow-sm font-medium">
					<svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path d="M15 19l-7-7 7-7" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
					Retour à la liste
				</a>
				<a href="{{ path('app_plant_edit', {'id': plant.id}) }}" class="inline-flex items-center px-4 py-2 bg-olive-clair hover:bg-forest text-white rounded-lg transition shadow-md font-semibold">
					<svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"/></svg>
					Modifier la fiche
				</a>
			</div>
		</div>

		<div
			class="grid grid-cols-1 lg:grid-cols-3 gap-8">
			{# Colonne Principale : Informations #}
			<div class="lg:col-span-2 space-y-6">
				<div class="card bg-white overflow-hidden shadow-lg border-0">
					<div class="bg-forest px-6 py-4 flex justify-between items-center">
						<h3 class="text-white font-bold uppercase tracking-wider text-sm">Informations Botaniques</h3>
						<span class="text-xs font-mono bg-white/20 text-white px-2 py-1 rounded">ID: #{{ plant.id }}</span>
					</div>

					<div class="p-8">
						<div class="grid grid-cols-1 md:grid-cols-2 gap-y-8 gap-x-12">
							<div class="group">
								<dt class="text-xs uppercase tracking-widest text-gray-400 font-bold mb-1">Nom Latin</dt>
								<dd class="text-xl font-bold text-forest italic leading-tight">{{ plant.latinName }}</dd>
							</div>

							<div>
								<dt class="text-xs uppercase tracking-widest text-gray-400 font-bold mb-1">Nom Commun</dt>
								<dd class="text-xl text-gray-800 font-medium leading-tight">{{ plant.commonName }}</dd>
							</div>

							<div>
								<dt class="text-xs uppercase tracking-widest text-gray-400 font-bold mb-1">Type de végétal</dt>
								<dd class="mt-2">
									<span class="inline-flex items-center px-4 py-1.5 rounded-full text-sm font-semibold bg-olive-clair text-white shadow-sm">
										<svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewbox="0 0 24 24">
											<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
										</svg>
										{{ plant.type }}
									</span>
								</dd>
							</div>
						</div>
					</div>
				</div>

				{# Section de Rappel / Info Bulles #}
				<div class="p-6 bg-white/50 rounded-xl border border-dashed border-forest/30 flex items-start">
					<div class="bg-menthe-clair p-3 rounded-lg mr-4">
						<svg class="w-6 h-6 text-forest" fill="none" stroke="currentColor" viewbox="0 0 24 24">
							<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
						</svg>
					</div>
					<div>
						<h4 class="font-bold text-forest">Note de gestion</h4>
						<p class="text-sm text-gray-600 mt-1 italic">"Gérez vos stocks et fiches techniques avec précision pour une pépinière florissante." [cite: 11]</p>
					</div>
				</div>
			</div>

			{# Colonne Latérale : Gestion & Statut #}
			<div
				class="space-y-6">
				{# Bloc Actions Rapides #}
				<div class="card p-6 bg-white shadow-md border-l-4 border-olive-clair">
					<h3 class="text-sm font-bold text-gray-800 mb-6 uppercase tracking-wider">Liens de gestion</h3>

					<div class="space-y-4">
						<a href="{{ path('app_stock_index') }}" class="flex items-center p-3 rounded-lg border border-gray-100 hover:border-olive-clair hover:bg-menthe-clair/30 transition-all group">
							<div class="bg-gray-100 group-hover:bg-olive-clair group-hover:text-white p-2 rounded mr-3 transition-colors">
								<svg class="w-5 h-5" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"/></svg>
							</div>
							<span class="text-sm font-medium text-gray-700">Consulter les stocks</span>
						</a>

						<div class="pt-6 mt-2 border-t border-gray-100">
							<p class="text-xs text-gray-400 mb-4 uppercase font-bold tracking-tighter">Zone critique</p>
							{{ include('plant/_delete_form.html.twig') }}
						</div>
					</div>
				</div>

				{# Bloc Utilisateur Connecté #}
				<div class="p-6 bg-forest rounded-2xl text-white shadow-xl relative overflow-hidden">
					<div class="relative z-10">
						<p class="text-xs uppercase tracking-widest opacity-70 mb-2">Opérateur</p>
						<p class="font-bold truncate">{{ app.user.email }}</p>
					</div>
					{# Décoration SVG en arrière-plan #}
					<svg class="absolute -right-4 -bottom-4 w-24 h-24 text-white/10" fill="currentColor" viewbox="0 0 20 20">
						<path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"/>
					</svg>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
