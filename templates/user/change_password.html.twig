{% extends 'base.html.twig' %}

{% block title %}Sécurité - Mise à jour du mot de passe
{% endblock %}

{% block body %}
	<div class="min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8">
		<div
			class="sm:mx-auto sm:w-full sm:max-w-md text-center">
			{# Icône de sécurité #}
			<div class="mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-amber-100 mb-6">
				<twig:ux:icon	name="mdi:secure"	class="w-8 h-8" />
			</div>

			<h2 class="text-3xl font-extrabold text-gray-900 tracking-tight">
				Action requise
			</h2>
			<p class="mt-2 text-sm text-gray-600">
				Pour sécuriser votre compte, veuillez choisir un nouveau mot de passe.
			</p>
		</div>

		<div class="mt-8 sm:mx-auto sm:w-full sm:max-w-md">
			<div class="bg-white py-8 px-4 shadow-xl border border-gray-100 sm:rounded-2xl sm:px-10">

				{{ form_start(form, {'attr': {'class': 'space-y-6'}}) }}

				<div>
					{{ form_label(form.plainPassword.first, 'Nouveau mot de passe', {'label_attr': {'class': 'block text-sm font-semibold text-gray-700'}}) }}
					<div class="mt-1 relative">
						{{ form_widget(form.plainPassword.first, {
                            'attr': {
                                'class': 'appearance-none block w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm',
                                'placeholder': '••••••••'
                            }
                        }) }}
					</div>
					<p class="mt-1 text-xs text-gray-500">8 caractères minimum recommandés.</p>
					{{ form_errors(form.plainPassword.first) }}
				</div>

				<div>
					{{ form_label(form.plainPassword.second, 'Confirmez le mot de passe', {'label_attr': {'class': 'block text-sm font-semibold text-gray-700'}}) }}
					<div class="mt-1">
						{{ form_widget(form.plainPassword.second, {
                            'attr': {
                                'class': 'appearance-none block w-full px-3 py-3 border border-gray-300 rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-amber-500 focus:border-amber-500 sm:text-sm',
                                'placeholder': '••••••••'
                            }
                        }) }}
					</div>
					{{ form_errors(form.plainPassword.second) }}
				</div>

				<div>
					<button type="submit" class="inline-flex justify-center py-2 px-8 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
						<twig:ux:icon	name="bi:check-lg"	class="w-5 h-5 mr-2" />
						{{ button_label|default('Enregistrer les modifications') }}
					</button>
				</div>

				{{ form_end(form) }}

			</div>

			{# Footer d'aide #}
			<p class="mt-6 text-center text-xs text-gray-400 italic">
				En cas de difficulté, contactez votre administrateur.
			</p>
		</div>
	</div>
{% endblock %}
