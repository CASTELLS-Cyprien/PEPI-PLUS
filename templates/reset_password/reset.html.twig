{# templates/reset_password/reset.html.twig #}
{% extends 'base.html.twig' %}

{% block title %}Réinitialisation du mot de passe - Pépi+
{% endblock %}

{% block body %}
	<div class="min-h-screen bg-[#D9EDd4] flex items-center justify-center p-6 font-['Open_Sans'] text-[#333D33]">
		<div
			class="w-full max-w-md">

			{# Logo #}
			<div class="text-center mb-8">
				<img src="{{ asset('img/logoPepiPlusSF.png') }}" alt="Logo Pépi+" style="width: 280px; height: auto; margin: auto; margin-bottom: 16px;">
				<p class="text-gray-600 text-sm">Définition de votre nouveau mot de passe</p>
			</div>

			<div class="bg-white rounded-[0.75rem] shadow-[0_4px_6px_-1px_rgba(0,0,0,0.1)] p-8 border border-[#95B49A]/30">

				<h2 class="text-2xl font-['Montserrat'] font-semibold text-[#2D6A4F] mb-6">
					Nouveau mot de passe
				</h2>

				{{ form_start(resetForm) }}
				<div
					class="space-y-5">

					{# Champ 1 : Nouveau mot de passe #}
					<div>
						<label for="{{ resetForm.plainPassword.first.vars.id }}" class="block text-sm font-medium text-gray-700 mb-2">
							Nouveau mot de passe
						</label>
						{{ form_widget(resetForm.plainPassword.first, {
                                'attr': {
                                    'class': 'w-full px-4 py-3 border border-[#95B49A]/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2D6A4F] focus:border-transparent transition placeholder:text-gray-400',
                                    'placeholder': '••••••••'
                                }
                            }) }}
					</div>

					{# Champ 2 : Confirmation #}
					<div>
						<label for="{{ resetForm.plainPassword.second.vars.id }}" class="block text-sm font-medium text-gray-700 mb-2">
							Confirmez le mot de passe
						</label>
						{{ form_widget(resetForm.plainPassword.second, {
                                'attr': {
                                    'class': 'w-full px-4 py-3 border border-[#95B49A]/50 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#2D6A4F] focus:border-transparent transition placeholder:text-gray-400',
                                    'placeholder': '••••••••'
                                }
                            }) }}
					</div>

					{# Affichage des erreurs (ex: mots de passe non identiques) #}
					{% if not resetForm.plainPassword.vars.valid %}
						<div class="text-red-600 text-xs mt-2 p-2 bg-red-50 rounded border border-red-100">
							{{ form_errors(resetForm.plainPassword.first) }}
						</div>
					{% endif %}

				</div>

				<button type="submit" class="w-full mt-8 bg-[#2D6A4F] text-white py-3 px-4 rounded-lg font-medium hover:bg-[#2D6A4F]/90 transition shadow-md hover:shadow-lg active:transform active:scale-[0.98]">
					Enregistrer le mot de passe
				</button>
				{{ form_end(resetForm) }}

			</div>

			<div class="text-center mt-6 text-sm text-gray-600">
				<p>Pépi+ © 2026 - Sécurité renforcée</p>
			</div>
		</div>
	</div>
{% endblock %}
